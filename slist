#!/bin/sh

screen -list | \
  awk 'BEGIN { FS = "[\\.()]"; }; {
  if ($3 == "Detached")
    print "\033[38;05;195m"$1"\033[0m","\t","\033[38;05;188m"$2"\033[0m"," --> \033[38;05;059m"$3"\033[0m";
  else
    print "\033[38;05;088m"$1"\033[0m","\t","\033[38;05;218m"$2"\033[0m"," --> \033[38;05;236m"$3"\033[0m";
  }' | \
  tail -n +2 | \
  head -n -1 | \
  sed -e "s/^\s//;s/\([a-zA-Z ]\)\s/\1/g" | \
  sed -e "s/\([0-9]\)\s/\1\t/" | \
  sort -k2
